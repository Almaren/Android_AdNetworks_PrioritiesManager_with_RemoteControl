plugins {
    id 'com.android.library'
    id 'kotlin-android'
}

android {
    compileSdkVersion 30
    buildToolsVersion "30.0.3"

    sourceSets {
        main {
            java.srcDirs = ['src/main/kotlin']
            aidl.srcDirs = ['src/main/kotlin']
            renderscript.srcDirs = ['src/main/kotlin']
        }
    }
    packagingOptions {
        resources.excludes += "DebugProbesKt.bin"
    }
    defaultConfig {
        minSdkVersion 16
        targetSdkVersion 30
        versionCode 1
        versionName "1.0.0"
        multiDexEnabled true
    }
    buildTypes {
        release {
            minifyEnabled true
            proguardFiles getDefaultProguardFile('proguard-android-optimize.txt'), 'proguard-rules.pro'
        }
    }
    dexOptions {
        preDexLibraries = false
    }
    compileOptions {
        sourceCompatibility JavaVersion.VERSION_1_8
        targetCompatibility JavaVersion.VERSION_1_8
    }
    kotlinOptions {
        jvmTarget = '1.8'
    }
}

dependencies {
    implementation fileTree(include: ['*.jar'], dir: 'libs')
    implementation "org.jetbrains.kotlin:kotlin-stdlib:$kotlin_version"
    //implementation "org.jetbrains.kotlinx:kotlinx-coroutines-core:$kotlin_coroutines"

    implementation 'androidx.multidex:multidex:2.0.1'

    // Import the BoM for the Firebase platform
    implementation platform("com.google.firebase:firebase-bom:$firebaseBom")
    // Declare the dependencies for the Remote Config and Analytics libraries
    // When using the BoM, you don't specify versions in Firebase library dependencies
    implementation 'com.google.firebase:firebase-config'
    //implementation 'com.google.firebase:firebase-analytics'
    implementation 'com.google.firebase:firebase-config-ktx'

    // ------ Unity Ads as standalone (already included in UnityMediation): --------
    //implementation 'com.unity3d.ads:unity-ads:4.0.0' // 3.5.1+ - requires minSdkVersion = 19

    // ---------------------------------- Unity Ads Mediation --------------------------------------
    implementation "com.unity3d.mediation:mediation-sdk:$unityAdsMediation" // last standalone unity ads 4.0.0
    implementation "com.unity3d.mediation:unityads-adapter:$unityAdsMediation"
    //implementation "com.unity3d.mediation:ironsource-adapter:$unityAdsMediation"
    //implementation "com.unity3d.mediation:applovin-adapter:$unityAdsMediation"

    // ---------------------------------- SuperAwesome ----------------------------------
    //implementation 'tv.superawesome.sdk.publisher:superawesome:8.1.4' // minApi 19+, was 8.1.2
    //implementation 'androidx.appcompat:appcompat:1.3.0' // was 1.3.0, 1.4.0 requires compileSdk=31
    //implementation 'com.google.android.gms:play-services-ads:20.1.0' // was 20.1.0, new 20.5.0
    // there also lite version com.google.android.gms:play-services-ads-lite

    // ------------------------ IronSource -------------------------------
    //implementation 'com.ironsource.sdk:mediationsdk:7.0.3.1' // was 7.0.1.1, last 7.0.2 (interstitial error code 508)
    //implementation 'com.google.android.gms:play-services-ads-identifier:17.0.0'
    //implementation 'com.google.android.gms:play-services-basement:17.1.1'
    //implementation 'com.google.android.gms:play-services-location:17.0.0'

    //implementation 'com.ironsource.adapters:unityadsadapter:4.3.6' // 4.3.7+ - requires minSdkVersion = 19

    // ------ AppLovin mediated by IronSource: --------
    //implementation 'com.ironsource.adapters:applovinadapter:4.3.20'
    //implementation 'com.applovin:applovin-sdk:9.14.6'

    // ------ Kidoz not mediated: --------
    //implementation group: 'org.greenrobot', name: 'eventbus', version: '3.2.0'
    //implementation 'androidx.legacy:legacy-support-v4:1.0.0'
    //implementation 'net.kidoz.sdk:kidoz-android-native:8.9.4'
}
